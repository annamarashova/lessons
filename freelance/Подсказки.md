# Необходимая информация для решения задачи

## Как установить зависимости из requirements.txt

Команда для установки зависимостей:
```bash
pip install -r <путь до файла requirements.txt> (без треугольных скобок)
```

Флаг -r сообщает о том, что мы хотим установить все зависимости из указанного файла ("r" сокращение от "requirements")

Если находишься в папке freelance, то путь к файлу будет ./requirements.txt (точку "./" можно в команде не указывать и сократить до requirements.txt)

## Как извлечь данные из исходного сообщения

### Описание функций, которые могут понадобиться, но которых мы ещё не проходили

Познакомимся с функциями, которые есть у строк в питоне:
- split(delimiter) - создаст список, в котором будут части строки, разбитые по указанному разделителю (split - разделять, delimiter - разделитель)
- strip() - удалит все пробелы справа и слева в строке
- upper() и lower() - Преобразует В ВЕРХНИЙ Или в нижний Регистр
- replace(old, new) - заменит все вхождения подстроки old на подстроку new

Изучаем, как работает каждая функция
```python
# функция "split" (eng. "разделить") возвращает список, в котором будут части строки, разделенные по указанному разделителю (delimiter - разделитель)
string = "Entry price: $11.25 "
print(string.split(" ")) # ["Entry", "price:", "$11.25", ""] (обрати внимание, в конце списка пустая строка, потому что в строке был лишний пробел на конце)
string = "abc"
print(string.split("d")) # ["abc"] (если delimiterа нет в строке, в списке будет ровно один элемент - исходная строка)
string = ""
print(string.split(" "))  # [""]

# функция "strip" удалит пробелы справа или слева строки
string = " Entry price: $11.25      "
print(string.strip())   # "Entry price: $11.25"

# функции "upper" и "lower" возвращают строку в другом регистре (сделать всю строку заглавными или всю строку строчными буквами)
string = "Buy Sell"
string_in_upper_case = string.upper()  
string_in_lower_case = string.lower()
print(string_in_upper_case) # "BUY SELL"
print(string_in_lower_case) # "buy sell"

# функция "replace" заменит все вхождения подстроки old на подстроку new 
string = "USD/ BTC"
string = string.replace("/", "")      # "USD BTC"   (если нужно избавиться от подстроки, заменяем её на пустую строку)
string = string.replace("BTC", "RUB") # "USD RUB"
string = string.replace(" ", "")      # "USDRUB"
```


### Примеры как извлекать данные
Достаем валютную пару и сохраняем в переменную pair.
Оговорка: здесь представлен код, который учитывает маловероятные крайние случаи.
Можно написать проще, если не учитывать эти случаи (но я их все равно учитываю, когда пишу, потому что для меня это быстро сделать).
Постарался максимально откомментировать код, чтобы было понятно, что и зачем мы делаем.

Итак, задача: достать валютную пару (пусть будет "SNXUSD") из исходного текста "source_text" и сохранить в переменную "pair".
```python
pair = ""   # создаем переменную для хранения pair и инициализируем пустой строкой
text_lines = source_text.split("\n")    # разбиваем исходный текст по строкам (разделитель -- символ переноса строки "\n")

# проходим в цикле по каждой строке текста и ищем ту, которая начинается с "Instrument: "
for line in text_lines:
    # сравнивать строки будем в нижнем регистре, чтобы правильно обработать случаи, если вдруг в сообщении будет "INSTRUMENT: " или "InStrument: " вместо "Instrument: "
    line_lower = line.lower()   
    if line_lower.startswith("instrument:"):
        # убираем случайно затесавшиеся пробелы справа или слева: "  Instrument: SNX/USD " -> "Instrument: SNX/USD"
        # если лишних пробелов справа или слева нет -- строка останется прежней (этот шаг для предосторожности)
        line = line.strip() 
        # разделяем строку "Instrument: SNX/USD" по пробелу 
        line_parts = line.split(" ")
        # Берем последний элемент списка, где точно будет валютная пара, которую мы ищем: ["Instrument:", "SNX/USD"] 
        pair = line_parts[-1]   # берем самый последний элемент line_parts[-1], а не второй по счету элемент line_parts[1] (защищаемся от маловероятного случая, если в строке "Instrument:  SNX/USD" был лишний пробел в середине)
        # Приводим пару в тот вид, который нам нужен в destination channel
        pair = pair.replace("/", "")    # "SNX/USD" -> "SNXUSD"
        
        
# pair должна быть "SNXUSD" -- мы её извлекли! Можно извлекать следующие данные и двигаться дальше.
print(pair)
```
